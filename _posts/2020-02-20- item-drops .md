---
layout: post
title:  有关物品掉落的思考
date:   2020-02-20
categories: 数值
tag: 设计
---

* content
{:toc}


序章			
====================================
这两天开始玩《魔兽世界怀旧服》  。因为当年没有体验过这款最火的mmorpg，正好最近有些时间来体验一下。  
两天玩到了20级，就暂不讨论这款10几年前的游戏的总体数值体验，毕竟年代久远，把当时的数值拿到现在来看，确实是有些过时。  
而是在今天我在做一个叫做`水坝危机`的任务的时候，引发的有关物品掉落的一个思考。  

# 水坝危机  
是的，就是这个任务，让我有点难受。  
主工程师辛德维尔七世要你收集一份潜伏者的毒液，一块莫格罗什水晶和一滴鳄鱼的眼泪。  
>任务描述：  
你必须立刻去收集拆弹用的原料，(玩家)。潜伏者的毒液在洛克莫丹的蜘蛛身上可以找到，鳄鱼的眼泪在洛克湖一带的鳄鱼身上也有。不过莫格罗什水晶很难找到。东北边矿井里的食人魔开采这种水晶，不过即使在那里，莫格罗什水晶也不常见。
我们必须要作好准备才能粉碎黑铁矮人的计划！你找齐了这些材料之后就立刻回来找我，我会把它们做成拆弹剂。  
  
通过这个任务描述，我有了一个心理预期：这是一个概率掉落任务所需物品的任务。而且从描述中可以看出，毒液和眼泪是比较好掉落的，水晶是掉率比较低的。然后这是一个18级的任务，我作为一个20级装备不错的猎人，我应该代表了这个等级做任务效率至少是中上水平的玩家群体。  
那么这个任务对我来说，只是众多支线任务中的一个，很普通，难度应该不高。然后我就开始了任务之旅。  
一开始很顺利，杀了2-3个鳄鱼和3-5个蜘蛛的样子就掉落了眼泪和毒液。但是接下来噩梦就开始了。  
>那些掉落莫格罗什水晶的食人魔，以我20级的等级和装备去战斗，每个怪需要消耗半分钟以上的时间，以及20-30发子弹的代价，以及我和宠物的血量蓝量的消耗，这些血量蓝量的消耗需要在每次战斗后花费一些时间恢复。并且我必须小心谨慎的拉怪避免同时遭遇两个食人魔的战斗。  
  
# 玩家心态危机 
好的，这是和食人魔的战斗难度。通过插件，我了解到这个莫格罗什水晶的爆率是5%。好吧，我大概要杀20个食人魔才能完成任务，这应该是大部分玩家在此时的心理预期。  
但是！在我杀了20几30个食人魔还没掉落的时候，我的心态里出现了焦虑和烦燥，此时我已经在这个任务的这一部分消耗了半个小时以上，因为这已经超出了我的心理预期，最终的任务奖励并没有对应难度的好。而且5%的概率似乎偏高了，虽然了解概率的我心里清楚，5%不代表20次就能出，但是我依然开始怀疑我是不是打错了怪。再仔细看了一遍任务描述，还有插件提示，好吧，就只是运气不好没有掉落而已。  
最终，我花费了1个多小时，不知道杀了多少个食人魔，总算是掉落了莫格罗什水晶。  
但是，在掉落的时候，应当出现的兴奋感并没有太强烈，这种体验我觉得是难以接受的。  
**为什么在掉落了稀有物品时，我并没有太强烈的兴奋感？** 甚至，在完成任务后，获得了一些并不高的任务奖励反而挫败感更强了。  
回想一下，因为我在杀了二三十个食人魔的时候，我每杀一个食人魔就会想"这会该掉了吧"，这样多次之后，到最后掉落的时候，给我的心理影响并不是（哇，我竟然掉落了这个物品），而是（呼，终于掉了啊）。这样的一个我的心理波动就引发了我的思考，**如果我是设计师，我会怎么设计这个任务的掉落机制？**  
  
# 物品掉落设计  
首先，我们看看最常见最熟悉的两种物品掉落机制：  
>1.每次杀怪有5%的几率直接掉落任务成品，获得任务成品完成任务。  
>2.每次杀怪100%掉落任务成品的碎片，20个碎片可以合成任务成品完成任务。  
  
当然，物品掉落机制还有很多，这里讨论这两种比较基础的掉落方式的不同之处。  
这两种方式的期望是一致的，这点毋庸置疑。  
这两种方式给玩家带来的心理波动如下图所示：  
![1]({{ '/styles/images/2020-02-20/1.png' | prepend: site.baseurl  }})  
第一种掉落方式是橙线，第二种掉落方式则是蓝线。第一种的心理波动是在没掉落的时候缓慢压抑，在掉落的瞬间爆发。第二种则相对较为平衡的提示，因为每次掉落都是可以预期的，本来也就知道20次能够完成任务，最终给人带来的兴奋度自然是不如第一种来的强烈。两者最终的高低差异则来之于这个物品奖励或者说任务奖励的好坏。  
**那么这两种掉落方式，不能说谁好谁坏，只能说在不同的情况下，他们有着各自适合的设计目的。**  
在一个奖励普通的小任务中，我会更倾向于第二种掉落设计方式。因为最终奖励并不高，没法给玩家带来很高的心理波动，我觉得不需要在这个任务中对玩家情绪进行压抑。  
那么如果是一个高奖励的任务，或者说是极其稀有的装备掉落，我会更倾向于第一种掉落方式。因为在概率非常低的情况下，玩家会忽略掉落期望次数，比如说5%掉率玩家会一直想20次左右就差不多应该出了。但是0.1%的掉率，玩家根本不会去考虑1000次左右应该出了，或者说玩家根本记不清已经进行了多少次了。在我的心理预期中，这个就是很稀有，很难出，即使长时间不出，它带来的挫败感也并不强烈。但是，一旦爆出了这个物品，会让玩家情绪瞬间达到一个巅峰。“你们辛苦那么久都无法得到的东西，我运气爆棚出了”，像这种感觉是会减淡玩家之前无数次没有掉落的体验。  
也就是说在物品稀有，概率很低的情况下，第一种掉落方式带来的兴奋体验远远超出了之前积累的挫败感。  
  
# 概率掉落的分布优化  
第二种掉落方式在次数分布上自然没什么好说的，固定了多少次完成任务，就和击杀多少只某种怪物完成任务是等价的。  
而第一种概率掉落的方式，在大量的玩家参与游戏时，玩家完成任务所需击杀次数的分布应该是怎么样的呢？  
![2]({{ '/styles/images/2020-02-20/2.png' | prepend: site.baseurl  }})    
这张表列举了，假设是纯随机，每次掉率5%的概率分布。  
可以看到，在纯随机的情况下，第一次就掉落可能性是最高的有5%，然后依次缓慢降低。而统计累计概率的话，我们在前20次就掉落的概率有64.1%。但是，有21.5%的玩家超过30次才掉落，有12.9%的玩家超过了40次才掉落。这样的分布是我们设计之初所期望的吗？  
如果在设计之初，我们就期望玩家在击杀20个左右的怪物完成任务，尽可能的集中在这个小范围内，所以可能正态分布才是更符合设计方向的。我们希望更少的玩家在一两次击杀就掉落所需物品，同时也希望更少的玩家在击杀了大量怪物还不掉落物品的情况。这样才能保证绝大部分玩家在这个任务上的体验不会爆炸，当然，有偏向更少次数的偏态分布也是可以接受，甚至可能是更好的设计。在设计之初告知玩家只有4%概率掉落，实际上大部分玩家在20次左右就能掉落，这样也不失为一种走偏门的提高玩家体验的小方法，毕竟做数值的最终目的就是做体验。  
# 更多的思考  
其实在考虑概率掉落的分布的时候，同时我也联想到了游戏中抽奖或者说扭蛋的爆率的分布，以及这类概率抽奖系统中的保底机制的重要性。后续会单独开一篇谈一谈有关扭蛋设计以及保底机制到底有没有必要的想法。